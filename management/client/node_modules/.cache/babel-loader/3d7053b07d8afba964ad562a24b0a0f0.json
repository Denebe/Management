{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VENDIT\\\\Desktop\\\\Week\\\\week2\\\\management\\\\management\\\\client\\\\src\\\\components\\\\CustomerUpdate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CustomerUpdate(props) {\n  _s();\n\n  const [info, setInfo] = useState({\n    userName: '',\n    birthday: '',\n    gender: '',\n    job: '',\n    customers: ''\n  });\n  const [open, setOpen] = useState(false);\n\n  const callApi = async () => {\n    // axios 써보기\n    const response = await fetch('/api/customers');\n    const body = await response.json();\n    return body;\n  }; //\n\n\n  const handleFormSubmit = id => {\n    //event를 인자로 받고 이벤트의 기본동작은 하지않고, this.addcustomer()이 수행된다.\n    //addCustomer함수호출\n    updateCustomer(id) //then함수에 전달된 response\n    .then(response => {\n      console.log(response.data);\n      props.stateRefresh();\n    }); //state값 초기화\n\n    setInfo({\n      userName: '',\n      birthday: '',\n      gender: '',\n      job: ''\n    });\n    callApi().then(res => setInfo({\n      customers: res\n    })).catch(err => console.log(err));\n    setOpen(false); //새로고침\n\n    props.stateRefresh(); //window.location.reload();\n  };\n\n  useEffect(() => {\n    callApi().then(res => setInfo({\n      customers: res\n    })).catch(err => console.log(err));\n  }, []);\n\n  const updateCustomer = id => {\n    console.log(info.userName); //axios.post 구성 url, data\n\n    const url = '/api/customers/' + id;\n    const data = {\n      NAME: info.userName,\n      birthday: info.birthday,\n      gender: info.gender,\n      job: info.job\n    };\n    return axios.post(url, data);\n  };\n\n  const handleValueChange = e => {\n    //state with multiple keys https://medium.com/@shlee1353/%EB%A6%AC%EC%95%A1%ED%8A%B8-hooks-usestate-4%EA%B0%80%EC%A7%80-%EC%83%81%EC%9A%A9%EB%B0%A9%EB%B2%95-dfe8b2096750\n    setInfo({ ...info,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setInfo({\n      userName: '',\n      birthday: '',\n      gender: '',\n      job: ''\n    });\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleClickOpen,\n      children: \"\\uACE0\\uAC1D \\uC218\\uC815\\uD558\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"\\uACE0\\uAC1D \\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"\\uC774\\uB984\",\n          type: \"text\",\n          name: \"userName\",\n          value: info.userName,\n          onChange: handleValueChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 124\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"\\uC0DD\\uB144\\uC6D4\\uC77C\",\n          type: \"text\",\n          name: \"birthday\",\n          value: info.birthday,\n          onChange: handleValueChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 126\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"\\uC131\\uBCC4\",\n          type: \"text\",\n          name: \"gender\",\n          value: info.gender,\n          onChange: handleValueChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 120\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"\\uC9C1\\uC5C5\",\n          type: \"text\",\n          name: \"job\",\n          value: info.job,\n          onChange: handleValueChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 114\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: e => handleFormSubmit(props.id),\n          children: \"\\uC218\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleClose,\n          children: \"\\uB2EB\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CustomerUpdate, \"UIS37xYx9WPkyzuZcAshq67sa3A=\");\n\n_c = CustomerUpdate;\nexport default CustomerUpdate;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomerUpdate\");","map":{"version":3,"sources":["C:/Users/VENDIT/Desktop/Week/week2/management/management/client/src/components/CustomerUpdate.js"],"names":["React","useEffect","useState","Button","Dialog","DialogTitle","DialogContent","DialogActions","TextField","axios","CustomerUpdate","props","info","setInfo","userName","birthday","gender","job","customers","open","setOpen","callApi","response","fetch","body","json","handleFormSubmit","id","updateCustomer","then","console","log","data","stateRefresh","res","catch","err","url","NAME","post","handleValueChange","e","target","name","value","handleClickOpen","handleClose"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport axios from 'axios';\r\n\r\nfunction CustomerUpdate(props) {\r\n\r\n    const [info, setInfo] = useState({\r\n        userName: '',\r\n        birthday: '',\r\n        gender: '',\r\n        job: '',\r\n        customers: ''\r\n    });\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const callApi = async () => {\r\n        // axios 써보기\r\n        const response = await fetch('/api/customers');\r\n        const body = await response.json();\r\n        return body;\r\n    }\r\n\r\n    //\r\n    const handleFormSubmit = (id) => {\r\n        //event를 인자로 받고 이벤트의 기본동작은 하지않고, this.addcustomer()이 수행된다.\r\n\r\n        //addCustomer함수호출\r\n        updateCustomer(id)\r\n            //then함수에 전달된 response\r\n            .then((response) => {\r\n                console.log(response.data);\r\n                props.stateRefresh();\r\n            })\r\n        //state값 초기화\r\n        setInfo({\r\n            userName: '',\r\n            birthday: '',\r\n            gender: '',\r\n            job: ''\r\n        })\r\n        callApi()\r\n        .then(res => setInfo({ customers: res }))\r\n        .catch(err => console.log(err));\r\n\r\n\r\n\r\n        setOpen(false);\r\n        //새로고침\r\n        props.stateRefresh();\r\n        //window.location.reload();\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        callApi()\r\n            .then(res => setInfo({ customers: res }))\r\n            .catch(err => console.log(err));\r\n    }, [])\r\n\r\n\r\n\r\n    const updateCustomer = (id) => {\r\n        console.log(info.userName);\r\n\r\n        //axios.post 구성 url, data\r\n        const url = '/api/customers/' + id;\r\n\r\n        const data = {\r\n            NAME: info.userName,\r\n            birthday: info.birthday,\r\n            gender: info.gender,\r\n            job: info.job\r\n        }\r\n\r\n        return axios.post(url, data)\r\n    }\r\n\r\n    const handleValueChange = e => {\r\n\r\n        //state with multiple keys https://medium.com/@shlee1353/%EB%A6%AC%EC%95%A1%ED%8A%B8-hooks-usestate-4%EA%B0%80%EC%A7%80-%EC%83%81%EC%9A%A9%EB%B0%A9%EB%B2%95-dfe8b2096750\r\n        setInfo({\r\n            ...info,\r\n            [e.target.name] : e.target.value\r\n        });\r\n           \r\n    }\r\n\r\n    const handleClickOpen = () => {\r\n   \r\n        setOpen(true);\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setInfo({\r\n            userName: '',\r\n            birthday: '',\r\n            gender: '',\r\n            job: ''\r\n        })\r\n        setOpen(false);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleClickOpen}>\r\n                고객 수정하기\r\n            </Button>\r\n\r\n            <Dialog open={open} onClose={handleClose}>\r\n                <DialogTitle>고객 수정</DialogTitle>\r\n                <DialogContent>\r\n                    <TextField label=\"이름\" type=\"text\" name=\"userName\" value={info.userName} onChange={handleValueChange} /><br />\r\n                    <TextField label=\"생년월일\" type=\"text\" name=\"birthday\" value={info.birthday} onChange={handleValueChange} /><br />\r\n                    <TextField label=\"성별\" type=\"text\" name=\"gender\" value={info.gender} onChange={handleValueChange} /><br />\r\n                    <TextField label=\"직업\" type=\"text\" name=\"job\" value={info.job} onChange={handleValueChange} /><br />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={(e) => handleFormSubmit(props.id)}>수정</Button>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={handleClose}>닫기</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default CustomerUpdate;"]},"metadata":{},"sourceType":"module"}